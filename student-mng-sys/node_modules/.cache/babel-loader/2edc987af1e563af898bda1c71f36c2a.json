{"ast":null,"code":"import * as types from \"./actionTypes\";\nimport db from \"../firebase\";\n\nconst getStudents = students => ({\n  type: types.GET_STUDENTS,\n  payload: students\n});\n\nconst deleteStudent = () => ({\n  type: types.DELETE_STUDENT\n});\n\nconst addStudent = () => ({\n  type: types.ADD_STUDENT\n});\n\nexport const getStudentsInitiate = () => {\n  return function (dispatch) {\n    db.collection(\"students\").onSnapshot(querySnapshot => {\n      const students = [];\n      querySnapshot.forEach(doc => {\n        students.push({ ...doc.data(),\n          id: doc.id\n        });\n      });\n      dispatch(getStudents(students));\n    });\n  };\n};\nexport const addStudentInitiate = student => {\n  return function (dispatch) {\n    db.collection(\"students\").doc().set(student);\n    dispatch(addStudent());\n  };\n};\nexport const deleteStudentInitiate = id => {\n  return function (dispatch) {\n    db.collection(\"students\").doc(id).delete();\n    dispatch(deleteStudent());\n  };\n};","map":{"version":3,"sources":["C:/Users/Dell/Desktop/SPM_Project/github-basics-KavindyaSathsarani/student-mng-sys/src/redux/actions.js"],"names":["types","db","getStudents","students","type","GET_STUDENTS","payload","deleteStudent","DELETE_STUDENT","addStudent","ADD_STUDENT","getStudentsInitiate","dispatch","collection","onSnapshot","querySnapshot","forEach","doc","push","data","id","addStudentInitiate","student","set","deleteStudentInitiate","delete"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,eAAvB;AACA,OAAOC,EAAP,MAAe,aAAf;;AAGA,MAAMC,WAAW,GAAIC,QAAD,KAAe;AAC/BC,EAAAA,IAAI,EAAEJ,KAAK,CAACK,YADmB;AAE/BC,EAAAA,OAAO,EAAEH;AAFsB,CAAf,CAApB;;AAMA,MAAMI,aAAa,GAAG,OAAO;AACzBH,EAAAA,IAAI,EAAEJ,KAAK,CAACQ;AADa,CAAP,CAAtB;;AAIA,MAAMC,UAAU,GAAG,OAAO;AACtBL,EAAAA,IAAI,EAAEJ,KAAK,CAACU;AADU,CAAP,CAAnB;;AAIA,OAAO,MAAMC,mBAAmB,GAAG,MAAM;AACrC,SAAO,UAASC,QAAT,EAAkB;AACrBX,IAAAA,EAAE,CAACY,UAAH,CAAc,UAAd,EAA0BC,UAA1B,CAAsCC,aAAD,IAAmB;AACpD,YAAMZ,QAAQ,GAAG,EAAjB;AACAY,MAAAA,aAAa,CAACC,OAAd,CAAuBC,GAAD,IAAS;AAC3Bd,QAAAA,QAAQ,CAACe,IAAT,CAAc,EAAC,GAAGD,GAAG,CAACE,IAAJ,EAAJ;AAAgBC,UAAAA,EAAE,EAAEH,GAAG,CAACG;AAAxB,SAAd;AACH,OAFD;AAGAR,MAAAA,QAAQ,CAACV,WAAW,CAACC,QAAD,CAAZ,CAAR;AACH,KAND;AAOH,GARD;AASH,CAVM;AAYP,OAAO,MAAMkB,kBAAkB,GAAIC,OAAD,IAAa;AAC3C,SAAO,UAAUV,QAAV,EAAmB;AACtBX,IAAAA,EAAE,CAACY,UAAH,CAAc,UAAd,EAA0BI,GAA1B,GAAgCM,GAAhC,CAAoCD,OAApC;AACAV,IAAAA,QAAQ,CAACH,UAAU,EAAX,CAAR;AACH,GAHD;AAIH,CALM;AAOP,OAAO,MAAMe,qBAAqB,GAAIJ,EAAD,IAAQ;AACzC,SAAO,UAAUR,QAAV,EAAmB;AACtBX,IAAAA,EAAE,CAACY,UAAH,CAAc,UAAd,EAA0BI,GAA1B,CAA8BG,EAA9B,EAAkCK,MAAlC;AACAb,IAAAA,QAAQ,CAACL,aAAa,EAAd,CAAR;AACH,GAHD;AAIH,CALM","sourcesContent":["import * as types from \"./actionTypes\";\r\nimport db from \"../firebase\"; \r\n\r\n\r\nconst getStudents = (students) => ({\r\n    type: types.GET_STUDENTS,\r\n    payload: students,\r\n\r\n});\r\n\r\nconst deleteStudent = () => ({\r\n    type: types.DELETE_STUDENT,\r\n});\r\n\r\nconst addStudent = () => ({\r\n    type: types.ADD_STUDENT,\r\n});\r\n\r\nexport const getStudentsInitiate = () => {\r\n    return function(dispatch){\r\n        db.collection(\"students\").onSnapshot((querySnapshot) => {\r\n            const students = [];\r\n            querySnapshot.forEach((doc) => {\r\n                students.push({...doc.data(), id: doc.id})\r\n            })\r\n            dispatch(getStudents(students));\r\n        });\r\n    };\r\n};\r\n\r\nexport const addStudentInitiate = (student) => {\r\n    return function (dispatch){\r\n        db.collection(\"students\").doc().set(student);\r\n        dispatch(addStudent());\r\n    };\r\n};\r\n\r\nexport const deleteStudentInitiate = (id) => {\r\n    return function (dispatch){\r\n        db.collection(\"students\").doc(id).delete();\r\n        dispatch(deleteStudent());\r\n    };\r\n};"]},"metadata":{},"sourceType":"module"}